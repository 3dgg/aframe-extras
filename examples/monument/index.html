<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no,user-scalable=no,maximum-scale=1">
    <title>Examples • Monument</title>
    <script src="https://aframe.io/releases/0.2.0/aframe.js"></script>
    <script src="../aframe-extras.js"></script>
    <style>
      #audio {
        position: absolute;
        bottom: 5px;
        left: 5px;
        width: 240px;
        z-index: 1;
      }
      #audio-close {
        position: absolute;
        left: 250px;
        bottom: 53px;
        height: 32px;
        width: 32px;
        line-height: 32px;
        z-index: 1;
        background: rgba(0, 0, 0, 0.6);
        color: #FFF;
        text-align: center;
        cursor: pointer;
      }
      @media (min-width: 480px) {
        #audio {
          bottom: 20px;
          left: 20px;
          width: 300px;
        }
        #audio-close {
          bottom: 68px;
          left: 325px;
        }
      }
    </style>
  </head>
  <body>
    <a-scene physics>
      <a-entity id="player"
                camera
                universal-controls
                kinematic-body
                position="15 2.764 10"
                jump-ability="enableDoubleJump: true;">
      </a-entity>

      <a-entity id="scene"
                scale="0.5 0.5 0.5"
                obj-model="obj: url(/assets/monu9/monu9.obj);
                           mtl: url(/assets/monu9/monu9.mtl);">
      </a-entity>
      <a-entity id="scene-bbs"></a-entity>

      <a-sky id="sky" color="#AADDF0"></a-sky>

      <a-light type="ambient" color="#ccc"></a-light>
      <a-light color="#ddf" position="0 30 0" distance="100" intensity="0.4" type="point"></a-light>
      <a-light color="#ddf" position="3 10 -10" distance="50" intensity="0.4" type="point"></a-light>

    </a-scene>
    <script>
var bbs = [
  // Bases
  [[0,0,0], [98,1,98]],

  // Structure
  [[-38.855,3.786,7.561], [7.282,6.588,22.097]],
  [[-34.604,11.213,-0.03], [16.246,21.759,7.297]],
  [[0.023,7.597,-0.03], [14.889,12.902,15.292]],
  [[0.023,18.577,-8.765], [7.072,6.821,24.106]],
  [[-11.774,18.577,-0.144], [17.058,6.821,6.887]],
  [[-22.585,21.75,0.017], [40.212,1,7.327]],
  [[0.015,21.75,-18.916], [7.157,1,45.172]],
  [[0.023,11.557,-34.002], [7.072,20.99,14.851]],
  [[0.023,40.388,-37.994], [7.072,37.171,6.882]],
  [[38.06,11.561,-6.978], [7.072,21.167,21.016]],
  [[22.95,11.561,7.503], [7.072,21.167,21.706]],
  [[30.564,11.561,0.083], [8.24,21.167,7.208]],

  // Upper
  [[38.096,51.536,-0.045], [8.24,15.159,7.208]],
  [[0.04,58.59,-31.451], [7.133,1,19.953]],
  [[38.017,58.59,-18.194], [7.133,1,28.753]],
  [[17.993,58.59,-38.135], [28.939,1,7.02]],
  [[27.815,58.59,0.028], [12.679,1,7.02]],
  [[37.996,58.59,-37.975], [10.989,1,11.052]],
  [[37.996,59.493,-37.975], [6.936,1,7.159]],
  [[0.023,39.873,0.065], [7.072,6.148,6.882]],
  [[0.023,45.473,0.065], [5.225,5.11,5.084]],
  [[0.023,45.537,0.065], [1.178,1.152,19.032]],
  [[0.023,45.537,0.065], [19.115,1.152,1.156]],

  // Caps
  [[38.096,73.134,-0], [8.876,6.04,8.943]],
  [[38.096,73.134,-37.966], [8.876,6.04,8.943]],
  [[0.042,73.134,-37.966], [8.876,6.04,8.943]],
  [[38.096,77.675,-0], [6.882,2.65,6.934]],
  [[38.096,77.675,-37.942], [6.882,2.65,6.934]],
  [[-0.056,77.675,-37.942], [6.882,2.65,6.934]],

  // Columns
  [[-3,29.422,-3], [1,14.844,1]],
  [[-3,29.422,3], [1,14.844,1]],
  [[3,29.422,3], [1,14.844,1]],
  [[3,29.422,-3], [1,14.844,1]],
  [[41.037,32.986,-3], [1,21.59,1]],
  [[41.037,32.986,3], [1,21.59,1]],
  [[35.037,32.986,3], [1,21.59,1]],
  [[35.037,32.986,-3], [1,21.59,1]],
  [[-3,64.389,-41], [1,11.106,1]],
  [[-3,64.389,-35], [1,11.106,1]],
  [[3,64.389,-35], [1,11.106,1]],
  [[3,64.389,-41], [1,11.106,1]],
  [[35.037,64.389,-41.067], [1,11.106,1]],
  [[41,64.389,-41.006], [1,11.106,1]],
  [[41,64.389,-35.039], [1,11.106,1]],
  [[41,64.389,-3.038], [1,11.106,1]],
  [[41,64.389,2.929], [1,11.106,1]],
  [[35,64.389,2.929], [1,11.106,1]],
  [[35,64.389,-3.099], [1,11.106,1]],

  // Caps
  [[-39.042,7.54,15.006], [4.924,1,4.924]],
  [[23.039,22.596,15.006], [4.924,1,4.924]],

  // Square deco
  [[-32,2,38], [3,4,3]],
  [[-7,2,40], [3,4,3]],
  [[42,2,18], [3,4,3]],
  [[40.048,3.442,43.022], [3,5,3]],
  [[24.053,3.442,36.009], [3,5,3]],
  [[-17.998,2.492,36.009], [3,5,3]],
  [[23.026,4.554,29.516], [3,6.81,4.011]],
  [[15.158,4.008,27.13], [3,6,3]],
  [[38.077,4.008,36], [3,6,3]],
  [[-32.51,3.239,-30.501], [4.121,3.815,4.121]],
  [[-41.057,3.107,-36.961], [3,4,3]],
  [[-8.035,3.605,-29.051], [3,4.75,3]],
  [[-18.484,4.595,-32.477], [4.079,6.862,4.343]],
  [[-29.084,2.619,-39.156], [3,3,3]],
  [[20.463,2,2], [2,2,2]],
  [[-13.603,2.619,-28.538], [2,3,3]],

  // Mushrooms
  [[-11.934,2.484,44], [2,1,2]],
  [[1.024,2.484,39.934], [2,1,2]],
  [[-1.848,2.484,32.834], [2,1,2]],
  [[10.097,2.484,34.018], [2,1,2]],
  [[28.077,2.484,40.897], [2,1,2]],
  [[40.105,2.484,24.864], [2,1,2]],
  [[37.161,2.484,17.823], [2,1,2]],
  [[-20.9,2.484,39.872], [2,1,2]],
  [[-22.954,2.484,26.951], [2,1,2]],
  [[-32.876,2.484,30.949], [2,1,2]],
  [[34.956,2.484,-30.918], [2,1,2]],
  [[13.926,2.484,-41.012], [2,1,2]],
  [[12.936,2.484,-15.927], [2,1,2]],
  [[-7.899,2.484,-40.959], [2,1,2]],
  [[-21.925,2.484,-27.747], [2,1,2]],
  [[-31.955,2.484,-24.991], [2,1,2]],
];

document.querySelector('a-scene').addEventListener('render-target-loaded', function () {
  var scale = 0.5,
      bbWrapper = document.querySelector('#scene-bbs');
  for (var box, i = 0; i < bbs.length; i++) {
    box = document.createElement('a-box');
    box.setAttribute('visible', false);
    box.setAttribute('position', (bbs[i][0][0] * scale) + ' ' + (bbs[i][0][1] * scale) + ' ' + (bbs[i][0][2] * scale));
    box.setAttribute('width',  bbs[i][1][0] * scale);
    box.setAttribute('height', bbs[i][1][1] * scale);
    box.setAttribute('depth',  bbs[i][1][2] * scale);
    box.setAttribute('static-body');
    bbWrapper.appendChild(box);
  }
});
    </script>
    <iframe id="audio" src="https://embed.spotify.com/?uri=spotify:album:4PvakqSTVKDmAj0v0UEuC1" width="300" height="80" frameborder="0" allowtransparency="true"></iframe>
    <div id="audio-close">×</div>
    <script>
var audio = document.querySelector('#audio'),
    audioClose = document.querySelector('#audio-close');
audioClose.addEventListener('click', function () {
  audio.remove();
  audioClose.remove();
});
    </script>
  </body>
</html>
